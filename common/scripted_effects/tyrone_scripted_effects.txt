generate_miguelist_monarch = {
	hidden_effect = {
		if = {
			limit = {
				any_scope_character = {
					is_heir = yes
				}
			}
			random_scope_character = {
				limit = {
					is_heir = yes
				}
				kill_character = yes
			}
		}
	}
	if = {
		if = {
			limit = {
				year < 1866
			}
			if = {
				limit = {
					any_scope_character = {
						has_template = POR_miguel_i_de_braganca_template
					}
				}
				random_scope_character = {
					limit = {
						has_template = POR_miguel_i_de_braganca_template
					}
					set_character_as_ruler = yes
				}
			}
			else_if = {
				limit = {
					any_scope_character = {
						has_template = POR_miguel_januario_de_braganca_template
						is_ruler = no
					}
				}
				random_scope_character = {
					limit = {
						has_template = POR_miguel_januario_de_braganca_template
					}
					set_character_as_ruler = yes
				}
			}
			else = {
				create_character = {
					template = POR_miguel_januario_de_braganca_template
				}
			}
		}
		else_if = {
			limit = {
				year >= 1866
				year < 1920
			}
			create_character = {
				template = POR_miguel_januario_de_braganca_template
				on_created = {
					set_character_as_ruler = yes
					add_character_role = politician
				}
			}
		}
		else_if = {
			limit = {
				year >= 1920
				year < 1976
			}
			create_character = {
				template = POR_duarte_nuno_de_braganca_template
				on_created = {
					set_character_as_ruler = yes
					add_character_role = politician
				}
			}
		}
		else_if = {
			limit = {
				year >= 1920
			}
			create_character = {
				template = POR_duarte_nuno_de_braganca_template
				on_created = {
					set_character_as_ruler = yes
					add_character_role = politician
				}
			}
		}
	}
}