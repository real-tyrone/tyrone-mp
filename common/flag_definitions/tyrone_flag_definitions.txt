REPLACE:JAP = { # Japan
	flag_definition = {
		coa = JAP
		allow_overlord_canton = yes
		coa_with_overlord_canton = JAP_subject
		subject_canton = JAP
		priority = 1
	}
	flag_definition = {
		coa = JAP_rising_sun
		subject_canton = JAP_rising_sun
		priority = 1000
		trigger = {
			OR = {
				coa_def_military_junta_flag_trigger = yes
				japan_monarchist_rising_flag_trigger = yes
				coa_def_fascist_flag_trigger = yes
			}
		}
	}
	flag_definition = {
		coa = JAP_tokugawa
		subject_canton = JAP_tokugawa
		priority = 20
		trigger = {
			scope:actor ?= { NOT = { has_variable = meiji_var } }
			coa_def_absolute_monarchy_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = JAP_tokugawa_late
		subject_canton = JAP_tokugawa_late
		priority = 20
		trigger = {
			scope:actor ?= { NOT = { has_variable = meiji_var } }
			coa_def_absolute_monarchy_flag_trigger = no
			coa_def_monarchy_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = JAP_absolute_monarchy
		subject_canton = JAP_absolute_monarchy
		priority = 20
		trigger = {
			scope:actor ?= { has_variable = meiji_var }
			coa_def_absolute_monarchy_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = JAP_republic
		subject_canton = JAP_republic
		priority = 10
		trigger = {
			coa_def_republic_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = JAP_dictatorship
		subject_canton = JAP_dictatorship
		priority = 20
		trigger = {
			coa_def_dictatorship_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = JAP_theocracy
		subject_canton = JAP_theocracy
		priority = 20
		trigger = {
			coa_def_theocracy_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = JAP_usa
		priority = 30
		trigger = {
			coa_def_american_ensign_trigger = yes
		}
	}
}

REPLACE:TUR = { # Turkey
	flag_definition = {
		coa = TUR
		subject_canton = TUR
		allow_overlord_canton = yes
		coa_with_overlord_canton = TUR_subject
		priority = 1
	}
	flag_definition = {
		coa = TUR
		subject_canton = TUR
		allow_overlord_canton = yes
		coa_with_overlord_canton = TUR_subject
		priority = 20
		trigger = {
			coa_def_absolute_monarchy_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = TUR_republic
		allow_overlord_canton = yes
		coa_with_overlord_canton = TUR_republic_subject
		priority = 10
		trigger = {
			OR = {
				coa_def_republic_flag_trigger = yes
				coa_def_monarchy_flag_trigger = yes
			}
		}
	}
	flag_definition = {
		coa = TUR_dictatorship
		subject_canton = TUR_dictatorship
		allow_overlord_canton = yes
		coa_with_overlord_canton = TUR_republic_subject
		priority = 20
		trigger = {
			coa_def_dictatorship_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = TUR_theocracy
		subject_canton = TUR_theocracy
		priority = 20
		trigger = {
			coa_def_theocracy_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = TUR_subject_GBR
		allow_overlord_canton = yes
		priority = 50
		trigger = {
			coa_def_british_ensign_trigger = yes
		}
	}
	flag_definition = {
		coa = TUR_subject
		allow_overlord_canton = yes
		overlord_canton_offset = { 0.01 0.015 }
		overlord_canton_scale = { 0.48 0.47 }
		priority = 50
		trigger = {
			coa_def_french_ensign_trigger = yes
		}
	}
	flag_definition = {
		coa = TUR_subject_GBR
		subject_canton = TUR
		allow_overlord_canton = yes
		priority = 50
		trigger = {
			coa_def_spanish_ensign_trigger = yes
		}
	}
}

REPLACE:BRZ = { # Brazil
	flag_definition = {
		coa = BRZ
		subject_canton = BRZ
		allow_overlord_canton = yes
		coa_with_overlord_canton = BRZ_subject
		priority = 1
	}
	flag_definition = { # United Kingdom
		coa = BRZ
		subject_canton = BRZ
		allow_overlord_canton = no
		priority = 5
		trigger = {
			scope:actor ?= {
				has_law_or_variant = law_type:law_monarchy
				OR = {
					AND = {
						exists = c:POR
						is_subject_of = c:POR
					}
					AND = {
						exists = c:IBE
						is_subject_of = c:IBE
					}
				}
				is_subject_type = subject_type_personal_union
			}
		}
	}
	flag_definition = { # United Kingdom Leader
		coa = BRZ_POR
		subject_canton = BRZ_POR
		allow_overlord_canton = no
		priority = 5000
		trigger = {
			brazilian_uk_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = BRZ_republic
		subject_canton = BRZ_republic
		priority = 10
		trigger = {
			coa_def_republic_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = BRZ_oligarchic_republic
		subject_canton = BRZ_oligarchic_republic
		priority = 20
		trigger = {
			scope:actor ?= {
				has_law_or_variant = law_type:law_presidential_republic
				has_law_or_variant = law_type:law_landed_voting
				OR = {
					has_law_or_variant = law_type:law_tenant_farmers
					has_law_or_variant = law_type:law_serfdom
				}
			}
		}
	}
	flag_definition = {
		coa = BRZ_communist
		priority = 1500
		trigger = {
			coa_def_communist_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = BRZ_fascist
		subject_canton = BRZ_fascist
		priority = 1500
		trigger = {
			coa_def_fascist_flag_trigger = yes
		}
	}
	flag_definition = {
		coa = BRZ_subject_GBR
		allow_overlord_canton = yes
		priority = 50
		trigger = {
			coa_def_british_ensign_trigger = yes
		}
	}
	flag_definition = {
		coa = BRZ_subject_USA
		allow_overlord_canton = yes
		overlord_canton_scale = { 0.5 0.54 }
		priority = 50
		trigger = {
			coa_def_american_ensign_trigger = yes
		}
	}
}